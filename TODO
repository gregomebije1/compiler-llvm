Support other data types
Don't use global variables
